---
- name: 사용자 정의 팩트
  hosts: webserver
  gather_facts: false
  tasks:
    ##################################################
    # 1) /etc/ansible/facts.d 디렉토리 생성
    # 2) /etc/ansible/facts.d/custom.fact 파일 배포
    ##################################################
      - name: 1) /etc/ansible/facts.d 디렉토리 생성
        ansible.builtin.file:
          path: /etc/ansible/facts.d
          state: directory
          mode: '0755'
      - name: 2) /etc/ansible/facts.d/custom.fact 파일 배포ㄷ턋
        ansible.builtin.copy:
          src: custom.fact
          dest: /etc/ansible/facts.d/custom.fact
          mode: '0644'